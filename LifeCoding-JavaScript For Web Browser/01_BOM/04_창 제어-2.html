<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>창 제어-2</title>
  <script>

  </script>
</head>

<body>
  <!-- 아래 예제는 보안상의 이유로 실제 서버에서만 동작하고, 같은 도메인의 창에 대해서만 작동한다. -->

  <input type="button" value="open" onclick="winopen();" />
  <input type="text" onkeypress="winmessage(this.value)" />
  <!-- this.value : 사용자가 입력하는 정보 -->
  <input type="button" value="close" onclick="winclose()" />
  <script>
    function winopen() {
      win = window.open('demo2.html', 'ot', 'width=300px, height=500px');
      // open() 메서드의 리턴타입 : Window
      // 열린 새 창의 window 객체를 win 변수(전역변수)로 선언
      // var win이라고 선언하면 지역변수. 다른 함수에서 win 변수 접근 안 됨.
    }

    function winmessage(msg) {
      win.document.getElementById('message').innerText = msg;
      // 입력된 정보를 win 변수(열린 새 창)의 id가 'message'인 태그의 innerText (Hellow World라고 입력한 부분)에 넣어준다.
    }

    function winclose() {
      win.close();
    }
  </script>

  <script>
    // window.open('demo2.html');
    // 위의 코드는 개발자의 의지로 새 창을 여는 것이고 이는 사용자에게 귀찮은 팝업창으로 사용자의 명식적 행위(새 창이 열리는 데에 대한 동의)에 대해서만 새 창(팝업)이 열리도록 코드를 작성해야 한다
  </script>
</body>

</html>